(function(){(this||window).webpackJsonp.registerAbsMids({"esri/views/2d/layers/GraphicsLayerView2D":1609,"esri/geometry/support/normalizeUtils":1635,"esri/tasks/geometry/cut":1636,"esri/tasks/geometry/simplify":1637})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{1609:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(2),n(1),n(10),n(11),n(97),n(29),n(22),n(7),n(0),n(300),n(1647),n(1765),n(1633)],void 0===(i=function(e,t,n,r,i,s,o,a,u,p,c,h,f,l,g){var y={remove:function(){},pause:function(){},resume:function(){}};return function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handles=new u,t.container=new h.Container,t}return n(t,e),t.prototype.attach=function(){var e=this;this.graphicsView=new l.default({view:this.view,graphics:this.layer.graphics}),this.graphicsView.install(this.container),this._handles.add([this.layer.on("graphic-update",this.graphicsView.graphicUpdateHandler),this.clips.on("change",function(){return e.graphicsView.container.setClips(e.clips)})]),this.graphicsView.container.setClips(this.clips)},t.prototype.detach=function(){this.graphicsView.destroy(),this._handles.removeAll()},t.prototype.hitTest=function(e,t){return this.suspended||!this.graphicsView?p.resolve(null):this.graphicsView.hitTest(e,t)},t.prototype.fetchPopupFeatures=function(e){return s(this,void 0,void 0,function(){return i(this,function(t){return this.graphicsView?[2,this.graphicsView.searchFeatures(e).then(function(e){return e.filter(function(e){return!!e.popupTemplate})})]:[2,void 0]})})},t.prototype.update=function(e){this.graphicsView.update(e)},t.prototype.moveStart=function(){this.requestUpdate()},t.prototype.viewChange=function(){this.requestUpdate()},t.prototype.moveEnd=function(){this.requestUpdate()},t.prototype.isUpdating=function(){return!this.graphicsView||this.graphicsView.updating},t.prototype.highlight=function(e,t){var n,r=this;return void 0===t&&(t={}),"number"==typeof e?n=[e]:e instanceof o?n=[e.uid]:Array.isArray(e)&&e.length>0?n="number"==typeof e[0]?e:e.map(function(e){return e&&e.uid}):a.isCollection(e)&&(n=e.map(function(e){return e&&e.uid}).toArray()),(n=n.filter(function(e){return null!=e})).length?(this.graphicsView.addHighlight(n),{remove:function(){return r.graphicsView.removeHighlight(n)},pause:function(){},resume:function(){}}):y},t.prototype.queryGraphics=function(){return p.resolve(this.graphicsView.graphics)},r([c.property()],t.prototype,"graphicsView",void 0),r([c.property({dependsOn:["graphicsView.updating"]})],t.prototype,"updating",void 0),r([c.subclass("esri.views.2d.layers.GraphicsLayerView2D")],t)}(c.declared(f.LayerView2D(g)))}.apply(null,r))||(e.exports=i)},1635:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(10),n(11),n(98),n(14),n(6),n(9),n(7),n(91),n(104),n(40),n(90),n(63),n(1636),n(1637)],void 0===(i=function(e,t,n,r,i,s,o,a,u,p,c,h,f,l,g,y){function d(e){return"polygon"===e.type}function v(e){return"polygon"===e[0].type}function m(e){return"polyline"===e[0].type}function w(e){return d(e)?e.rings:e.paths}function x(e,t){return Math.ceil((e-t)/(2*t))}function b(e,t){for(var n=0,r=w(e);n<r.length;n++)for(var i=0,s=r[n];i<s.length;i++){s[i][0]+=t}return e}function V(e){for(var t=[],n=0,r=0,i=0;i<e.length;i++){for(var s=e[i],o=null,a=0;a<s.length;a++)o=s[a],t.push(o),0===a?r=n=o[0]:(n=Math.min(n,o[0]),r=Math.max(r,o[0]));o&&t.push([(n+r)/2,0])}return t}function M(e,t){if(!(e instanceof c||e instanceof p)){var n="straightLineDensify: the input geometry is neither polyline nor polygon";throw O.error(n),new s(n)}for(var r=[],i=0,o=w(e);i<o.length;i++){var a=o[i],u=[];r.push(u),u.push([a[0][0],a[0][1]]);for(var h=0;h<a.length-1;h++){var f=a[h][0],l=a[h][1],g=a[h+1][0],y=a[h+1][1],v=Math.sqrt((g-f)*(g-f)+(y-l)*(y-l)),m=(y-l)/v,x=(g-f)/v,b=v/t;if(b>1){for(var V=1;V<=b-1;V++){var M=V*t,R=x*M+f,T=m*M+l;u.push([R,T])}var J=(v+Math.floor(b-1)*t)/2,S=x*J+f,L=m*J+l;u.push([S,L])}u.push([g,y])}}return d(e)?new p({rings:r,spatialReference:e.spatialReference}):new c({paths:r,spatialReference:e.spatialReference})}function R(e,t,n){if(t){var r=M(e,1e6);e=l.webMercatorToGeographic(r,!0)}return n&&(e=b(e,n)),e}function T(e,t,n){var r;if(Array.isArray(e)){if((r=e[0])>t){var i=x(r,t);e[0]=r+i*(-2*t)}else if(r<n){i=x(r,n);e[0]=r+i*(-2*n)}}else if((r=e.x)>t){i=x(r,t);e=e.clone().offset(i*(-2*t),0)}else if(r<n){i=x(r,n);e=e.clone().offset(i*(-2*n),0)}return e}function J(e,t){for(var n=-1,r=0;r<t.cutIndexes.length;r++)!function(r){for(var i=t.cutIndexes[r],s=t.geometries[r],o=w(s),a=0;a<o.length;a++)!function(e){var t=o[e];t.some(function(n){if(n[0]<180)return!0;for(var r=0,i=0;i<t.length;i++){var o=t[i][0];r=o>r?o:r}for(var a=-360*x(r=Number(r.toFixed(9)),180),u=0;u<t.length;u++){var p=s.getPoint(e,u);s.setPoint(e,u,p.clone().offset(a,0))}return!0})}(a);if(i===n){if(v(e))for(var u=0,p=w(s);u<p.length;u++){var c=p[u];e[i]=e[i].addRing(c)}else if(m(e))for(var h=0,f=w(s);h<f.length;h++){var l=f[h];e[i]=e[i].addPath(l)}}else n=i,e[i]=s}(r);return e}Object.defineProperty(t,"__esModule",{value:!0});var O=o.getLogger("esri.geometry.support.normalizeUtils"),S={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new c({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:h.WebMercator}),minus180Line:new c({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:h.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new c({paths:[[[180,-180],[180,180]]],spatialReference:h.WGS84}),minus180Line:new c({paths:[[[-180,-180],[-180,180]]],spatialReference:h.WGS84})}};t.straightLineDensify=M,t.normalizeCentralMeridian=function e(t,s,o){return r(this,void 0,void 0,function(){var r,h,d,v,m,w,V,M,O,L,j,N,_,k,q,A,P,U,W,G,I,X,z,C,D,F,H,E,B,K,Q,Y,Z,$,ee,te,ne;return n(this,function(n){switch(n.label){case 0:if(!Array.isArray(t))return[2,e([t],s)];for(r=s?s.url:i.geometryServiceUrl,L=0,j=[],N=[],_=0,k=t;_<k.length;_++)q=k[_],a.isNone(q)?N.push(q):(h||(h=q.spatialReference,d=f.getInfo(h),v=h.isWebMercator,m=S[V=v?102100:4326].maxX,w=S[V].minX,M=S[V].plus180Line,O=S[V].minus180Line),d?"mesh"===q.type?N.push(q):"point"===q.type?N.push(T(q.clone(),m,w)):"multipoint"===q.type?((A=q.clone()).points=A.points.map(function(e){return T(e,m,w)}),N.push(A)):"extent"===q.type?(U=q.clone(),P=U._normalize(!1,!1,d),N.push(P.rings?new p(P):P)):q.extent?(U=q.extent,W=x(U.xmin,w),I=0==(G=W*(2*m))?q.clone():b(q.clone(),G),U.offset(G,0),U.intersects(M)&&U.xmax!==m?(L=U.xmax>L?U.xmax:L,I=R(I,v),j.push(I),N.push("cut")):U.intersects(O)&&U.xmin!==w?(L=U.xmax*(2*m)>L?U.xmax*(2*m):L,I=R(I,v,360),j.push(I),N.push("cut")):N.push(I)):N.push(q.clone()):N.push(q));for(X=x(L,m),z=-90,C=X,D=new c;X>0;)F=360*X-180,D.addPath([[F,z],[F,-1*z]]),z*=-1,X--;return j.length>0&&C>0?[4,g.cut(r,j,D,o)]:[3,3];case 1:for(H=n.sent(),E=J(j,H),B=[],K=[],ee=0;ee<N.length;ee++)"cut"!==(te=N[ee])?K.push(te):(ne=E.shift(),Q=t[ee],a.isSome(Q)&&"polygon"===Q.type&&Q.rings&&Q.rings.length>1&&ne.rings.length>=Q.rings.length?(B.push(ne),K.push("simplify")):K.push(v?l.geographicToWebMercator(ne):ne));return B.length?[4,y.simplify(r,B,o)]:[2,K];case 2:for(Y=n.sent(),Z=[],ee=0;ee<K.length;ee++)"simplify"!==(te=K[ee])?Z.push(te):Z.push(v?l.geographicToWebMercator(Y.shift()):Y.shift());return[2,Z];case 3:for($=[],ee=0;ee<N.length;ee++)"cut"!==(te=N[ee])?$.push(te):(ne=j.shift(),$.push(!0===v?l.geographicToWebMercator(ne):ne));return[2,u.resolve($)]}})})},t.getDenormalizedExtent=function(e){var t;if(!e)return null;var n=e.extent;if(!n)return null;var r=e.spatialReference&&f.getInfo(e.spatialReference);if(!r)return n;var i,s=r.valid,o=s[0],a=s[1],u=2*a,p=n.width,c=n.xmin,h=n.xmax;if(c=(t=[h,c])[0],h=t[1],"extent"===e.type||0===p||p<=a||p>u||c<o||h>a)return n;switch(e.type){case"polygon":if(!(e.rings.length>1))return n;i=V(e.rings);break;case"polyline":if(!(e.paths.length>1))return n;i=V(e.paths);break;case"multipoint":i=e.points}for(var l=n.clone(),g=0;g<i.length;g++){var y=i[g][0];y<0?(y+=a,h=Math.max(y,h)):(y-=a,c=Math.min(y,c))}return l.xmin=c,l.xmax=h,l.width<p?(l.xmin-=a,l.xmax-=a,l):n},t.normalizeMapX=function(e,t){var n=f.getInfo(t);if(n){var r=n.valid,i=r[0],s=r[1],o=s-i;if(e<i)for(;e<i;)e+=o;if(e>s)for(;e>s;)e-=o}return e}}.apply(null,r))||(e.exports=i)},1636:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(4),n(11),n(10),n(36),n(44),n(31),n(57)],void 0===(i=function(e,t,n,r,i,s,o,a,u){Object.defineProperty(t,"__esModule",{value:!0}),t.cut=function(e,t,p,c){return r(this,void 0,void 0,function(){var r,h,f,l,g,y,d;return i(this,function(i){switch(i.label){case 0:return r="string"==typeof e?a.urlToObject(e):e,h=t[0].spatialReference,f=n({},c,{query:n({},r.query,{f:"json",sr:JSON.stringify(h),target:JSON.stringify({geometryType:u.getJsonType(t[0]),geometries:t}),cutter:JSON.stringify(p)})}),[4,o(r.path+"/cut",f)];case 1:return l=i.sent(),g=l.data,y=g.cutIndexes,d=g.geometries,[2,{cutIndexes:y,geometries:(void 0===d?[]:d).map(function(e){return s.fromJSON(e).set(h)})}]}})})}}.apply(null,r))||(e.exports=i)},1637:function(e,t,n){var r,i;r=[n.dj.c(e.i),t,n(4),n(11),n(10),n(44),n(31),n(57)],void 0===(i=function(e,t,n,r,i,s,o,a){Object.defineProperty(t,"__esModule",{value:!0}),t.simplify=function(e,t,u){return r(this,void 0,void 0,function(){var r,p,c,h;return i(this,function(i){switch(i.label){case 0:return r="string"==typeof e?o.urlToObject(e):e,p=t[0].spatialReference,c=a.getJsonType(t[0]),h=n({},u,{query:n({},r.query,{f:"json",sr:p.wkid?p.wkid:JSON.stringify(p),geometries:JSON.stringify(function(e){return{geometryType:a.getJsonType(e[0]),geometries:e.map(function(e){return e.toJSON()})}}(t))})}),[4,s(r.path+"/simplify",h)];case 1:return[2,function(e,t,n){var r=a.getGeometryType(t);return e.map(function(e){var t=r.fromJSON(e);return t.spatialReference=n,t})}(i.sent().data,c,p)]}})})}}.apply(null,r))||(e.exports=i)}}]);